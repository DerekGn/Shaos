@page
@using Shaos.Sdk
@model Shaos.Pages.Instances.ConfigurationModel

<h1>Configuration</h1>

<hr />

@{
    if (Model.Configuration != null)
    {
        var properties = Model.Configuration.GetType().GetProperties();

        foreach (var property in properties)
        {
            var propertyValue = @property
                .GetValue(@Model.Configuration, null);
            var propertyAttribute = @property
                .GetCustomAttributes(false)
                .FirstOrDefault(_ => _.GetType() == typeof(PlugInConfigurationSettingAttribute)) as PlugInConfigurationSettingAttribute;

            <div class="form-group">
                <label asp-for="@property.Name" class="control-label">@property.Name</label>
                <input asp-for="@propertyValue" name="@property.Name" id="@property.Name" class="form-control" title="@propertyAttribute.Description"/>
            </div>
        }
    }
}
